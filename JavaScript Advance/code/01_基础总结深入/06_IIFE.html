<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>06_IIFE</title>
</head>

<body>
  <!--
1. 理解
  * 全称: Immediately-Invoked Function Expression
          匿名函数自调用
2. 作用
    程序隐藏实现
    不会污染外部（全局）命名空间
    用于编写JS模块
-->
  <script type="text/javascript">
    (function () {
      var a = 3;
      console.log(a + 3);
    })();

    var a = 4;
    console.log(a);


    (function () {
      var a = 1;
      function test(){
        console.log(++a);
      }

      function test2(){
        console.log('test2')
      }
      window.$ = function () { //向外暴露一个函数$
        //返回的是一个对象，该对象中定义了一个test属性，其值为test函数
        return {
          test: test 
        }
      }
    })();
    $().test(); //$是一个函数，属于window对象 ； $执行后返回一个对象

  </script>

</body>

</html>