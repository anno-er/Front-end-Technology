<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script>
        /* 
            函数作用域
                -调用函数时创建函数作用域，函数执行完毕后，函数作用域销毁
                -每调用一次函数就会创建一个新的函数作用域，他们之间是互相独立的
                -在函数作用域中可以访问到全局作用域的变量
                -在全局作用域中无法访问到函数作用域的变量
                -当在函数作用域中操作一个变量时，他会现在自身作用域中寻找，
                    有就直接使用，没有就向上一级作用域中寻找，如果找不到，则报错
                    
                -若想直接访问全局的变量，前面加上window对象

                
                
        */

        //创建一个全局变量
        var a = 10;

        function fun() {
            console.log("a = "+a); //函数作用域访问全局变量

            var a = "我是函数中的变量a";
            var b = 20;
            console.log("a = "+a); //"我是函数中的变量a";

            function fun2(){
                console.log("a = "+a); //"我是函数中的变量a";
                console.log("a = "+windows.a); //10
            }
        }
        fun();
        console.log("a = "+a); //10
        //console.log("b = "+b); //error,无法访问


        /* 
            在函数作用域中，也有声明提前的特性，
            使用var关键字声明的变量，会在函数中所有代码执行之前被声明
            函数声明也会在函数中所有的代码执行之前执行
        */
        function fun3(){
            console.log(a); //undefined，不会报错
            fun4();
            var a = 35;
            function fun4(){
                console.log("我是fun4");
            }
        }
        fun3();

        /* 
            在函数中不使用var声明的变量，都会成为全局变量
        */
        var c = 33;
        function fun5(){
            console.log("c = "+c);
            var c = 10;
            
            //d没有使用var关键字，则会称为全局变量
            d = 100;
        }
        fun5();

        //全局输出c
        console.log("c = "+c); //33
        console.log("d = "+d);//100

        var e = 23;
        /* 
            定义形参相当于在函数作用域中声明了变量
        */
        function fun6(e){
            alert(e);
        }
        fun6(20);
        fun6();//undefined，未报错


    </script>

</head>

<body>

</body>

</html>